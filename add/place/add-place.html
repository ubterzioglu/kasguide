<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MekanÄ±nÄ±zÄ± Ekleyin - KaÅŸ Guide</title>
  <link rel="stylesheet" href="./add-place.css">
</head>
<body>
  <header class="header">
   


     <div class="container-header-general header-content">
    <div class="header-actions">
      <a href="../index.html" class="action-btn" aria-label="Ana Sayfa">
        <img src="../../assets/0_img/clip_home.png" alt="Home">
      </a>
      <button class="action-btn back-to-top" aria-label="BaÅŸa DÃ¶n" type="button">
        <img src="../../assets/0_img/clip_up.png" alt="Up">
      </button>
    </div>
    
    
    
    <div class="logo">
        <img class="logo-img" src="../../assets/0_img/logokasguide.png" alt="KaÅŸ Guide">
        <h1 class="logo-text">KaÅŸ Guide</h1>
      </div>
      <div style="width:48px"></div>
    </div>





  </header>

  <main class="page-wrap">
  <div class="container">
    <div class="form-card">
      <div class="form-header">
        <h1>MekanÄ±nÄ±zÄ± Ekleyin!</h1>
        <p>KaÅŸ'taki iÅŸletmenizi rehberimize ekleyin ve binlerce gezgine ulaÅŸÄ±n</p>
      </div>

 <div class="form-body">
        <div class="success-message" id="successMessage">
          <div class="success-icon">âœ…</div>
          <h3>BaÅŸvurunuz AlÄ±ndÄ±!</h3>
          <p>Mekan bilgilerinizi inceliyoruz. En kÄ±sa sÃ¼rede sizinle iletiÅŸime geÃ§eceÄŸiz.</p>
          <p>DesteÄŸiniz iÃ§in teÅŸekkÃ¼r ederiz. SaygÄ±larÄ±mÄ±zla.</p>
          <p>KaÅŸ Guide</p>

        </div>

<!-- Ãœst Bilgilendirme (Tek dÄ±ÅŸ kutu) -->
<div class="form-section">



<details class="accordion-item accordion info-acc" open>
  <summary class="section-title">
    <span class="section-icon icon-glow">ğŸŒ¿</span>
    KaÅŸ Guide
  </summary>


  <div class="liste-small">
    <p>ğŸŒ¿ En iyi deneyim iÃ§in masaÃ¼stÃ¼/laptop Ã¼zerinden ekleme yapmanÄ±zÄ± Ã¶neririz.</p>
    <p>ğŸŒ¿ KaÅŸ Guide, KaÅŸâ€™Ä± gerÃ§ekten bilenler ve yaÅŸayanlar iÃ§in hazÄ±rlanÄ±yor.</p>
    <p>ğŸŒ¿ Sezona kadar hazÄ±r, dÃ¼zenli ve gÃ¼venilir bir rehber oluÅŸturuyoruz.</p>
    <p>ğŸŒ¿ Ä°Ã§erikler, sizin katkÄ±larÄ±nÄ±zla zamanla oturacak ve zenginleÅŸecek.</p>
    <p>ğŸŒ¿ Esnafla iÃ§ iÃ§e, yereli destekleyen bir anlayÄ±ÅŸla hareket ediyoruz.</p>
    <p>ğŸŒ¿ Birlikte KaÅŸ iÃ§in kalÄ±cÄ± ve faydalÄ± bir rehber oluÅŸturuyoruz.</p>
    <p>ğŸŒ¿ 1 Ocakâ€™ta yayÄ±ndayÄ±z.</p>
  </div>
</details>

  
  
   <details class="accordion-item accordion info-acc">
  <summary class="section-title">
    <span class="section-icon icon-glow">ğŸ“¢</span>
    Ã–nemli Bilgilendirme
  </summary>

  <div class="liste-small">
    <p>ğŸ“¢Bu platform KaÅŸ'Ä± sevenler iÃ§in hazÄ±rlanmÄ±ÅŸ gÃ¶nÃ¼llÃ¼ bir rehberdir.</p>
    <p>ğŸ“¢ TÃ¼m iÃ§erikler tamamen Ã¼cretsizdir, hiÃ§bir Ã¼cret talep edilmez.</p>
    <p>ğŸ“¢ AmacÄ±mÄ±z mekÃ¢n sahiplerinin kendi bilgilerini doÄŸrudan paylaÅŸabilmesidir.</p>
    <p>ğŸ“¢ GÃ¶nderilen bilgiler ticari bir taahhÃ¼t veya reklam zorunluluÄŸu iÃ§ermez.</p>
    <p>ğŸ“¢ PaylaÅŸÄ±mlar KaÅŸ rehberini daha gÃ¼ncel ve faydalÄ± hale getirir.</p>
    <p>ğŸ“¢ MekanÄ±nÄ±zla ilgili yanlÄ±ÅŸ bilgiler iÃ§in bize mekan@kasguide.de adresinden ulaÅŸabilirsiniz.</p>
  </div>
</details>


<details class="accordion-item accordion info-acc">
  <summary class="section-title">
    <span class="section-icon icon-glow">ğŸ§­</span>
    Sayfa HakkÄ±nda Ufak Bilgiler
  </summary>

  <div class="liste-small">
    <p>ğŸ§­ GirdiÄŸiniz bilgiler incelendikten sonra sitede yayÄ±nlanÄ±r.</p>
    <p>ğŸ§­Bilgileri ne kadar eksiksiz doldurursanÄ±z o kadar Ã§ok kiÅŸiye ulaÅŸÄ±rsÄ±nÄ±z.</p>
    <p>ğŸ§­Sorun olmasÄ± durumunda, verdiÄŸiniz iletiÅŸim bilgileri Ã¼zerinden size ulaÅŸabiliriz.</p>
    <p>ğŸ§­Ã–nizleme butonuyla sayfanÄ±zÄ±n sitede nasÄ±l gÃ¶rÃ¼neceÄŸini gÃ¶rebilirsiniz.</p>
    <p>ğŸ§­FotoÄŸraflar Ã¶nizlemede gÃ¶rÃ¼nmeyebilir; yayÄ±nlandÄ±ktan sonra gÃ¶rÃ¼nÃ¼r.</p>
    <p>ğŸ§­DesteÄŸiniz iÃ§in teÅŸekkÃ¼r ederiz!</p>
  </div>
</details>


   
    <details class="accordion-item accordion info-acc">
      <summary class="section-title">
        <span class="section-icon icon-glow">ğŸ‘¥</span>
        Biz kimiz ?
      </summary>
      <div class="liste-small">
        <p style="margin: 0 0 0.75rem 0;">
          Biz, uzun yÄ±llardÄ±r KaÅŸâ€™ta yaÅŸayan; KaÅŸâ€™Ä± seven, KaÅŸâ€™a gÃ¶nÃ¼l vermiÅŸ, KaÅŸâ€™Ä±n sorunlarÄ±na duyarlÄ±,
          hayvansever ve doÄŸasever kÃ¼Ã§Ã¼k bir ekibiz. KaÅŸ Guideâ€™Ä±n ilk yÄ±lÄ±nda, tarafsÄ±zlÄ±ÄŸÄ±mÄ±zÄ± ve objektifliÄŸimizi
          korumak adÄ±na anonim kalmayÄ± tercih ediyoruz. Bu sayfayÄ± doldurarak bize destek olduÄŸunuz iÃ§in teÅŸekkÃ¼r ederiz.
        </p>

        <div class="contact-line" style="margin: 0.35rem 0;">
          <span>ğŸ“¸ Instagram:</span>
          <a href="https://instagram.com/guidekas" target="_blank" rel="noopener">@guidekas</a>
        </div>

        <div class="contact-line" style="margin: 0.35rem 0 0.75rem 0;">
          <span>âœ‰ï¸ E-posta:</span>
          <a href="mailto:mekan@kasguide.de">mekan@kasguide.de</a>
        </div>

        <div><strong>KaÅŸ Guide Ekibi</strong></div>
      </div>
    </details>
  
</div>



        <form id="venueForm">
          <!-- Temel Bilgiler -->
          <div class="form-section">
            <div class="section-card section-card--purple">
              <h3 class="section-title">
                <span class="section-icon">ğŸ“</span>
                Temel Bilgiler
              </h3>

              <div class="form-group">
                <label class="form-label">Mekan AdÄ±<span class="required">*</span></label>
                <input type="text" class="form-input" name="title" placeholder="Ã–rn: KaputaÅŸ PlajÄ±" required>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Konum</label>
                  <input type="text" class="form-input" name="location" placeholder="Ã–rn: KaÅŸ Merkez">
                </div>

                <div class="form-group">
                  <label class="form-label">Mesafe (KaÅŸ'a)</label>
                  <input type="text" class="form-input" name="distance" placeholder="Ã–rn: 7 km">
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">KÄ±sa AÃ§Ä±klama</label>
                <textarea class="form-textarea" name="description" placeholder="MekanÄ±nÄ±zÄ± kÄ±saca tanÄ±tÄ±n (1-2 cÃ¼mle)"></textarea>
                <p class="form-hint">Bu metin kart gÃ¶rÃ¼nÃ¼mÃ¼nde gÃ¶sterilecek</p>
              </div>

              <div class="form-group">
                <label class="form-label">DetaylÄ± AÃ§Ä±klama<span class="required">*</span></label>
                <textarea class="form-textarea" name="longText" placeholder="MekanÄ±nÄ±z hakkÄ±nda detaylÄ± bilgi verin (Ã¶zellikler, hizmetler, Ã¶neriler vb.)" style="min-height: 180px;" required></textarea>
              </div>
            </div>
          </div>

          <!-- Kategoriler -->
           
          <div class="category-grid">

  <div class="category-option">
    <input type="checkbox" id="cat-places" name="category" value="places" class="category-checkbox">
    <label for="cat-places" class="category-label">
      <span class="category-icon">ğŸ“</span>
      <span class="category-name">Gezi</span>
    </label>
  </div>

  <div class="category-option">
    <input type="checkbox" id="cat-beaches" name="category" value="beaches" class="category-checkbox">
    <label for="cat-beaches" class="category-label">
      <span class="category-icon">ğŸ–ï¸</span>
      <span class="category-name">Plaj</span>
    </label>
  </div>

  <div class="category-option">
    <input type="checkbox" id="cat-activities" name="category" value="activities" class="category-checkbox">
    <label for="cat-activities" class="category-label">
      <span class="category-icon">ğŸ§—</span>
      <span class="category-name">Aktivite</span>
    </label>
  </div>

  <div class="category-option">
    <input type="checkbox" id="cat-food" name="category" value="food" class="category-checkbox">
    <label for="cat-food" class="category-label">
      <span class="category-icon">ğŸ½ï¸</span>
      <span class="category-name">Restoran</span>
    </label>
  </div>

  <div class="category-option">
    <input type="checkbox" id="cat-hotels" name="category" value="hotels" class="category-checkbox">
    <label for="cat-hotels" class="category-label">
      <span class="category-icon">ğŸ¨</span>
      <span class="category-name">Otel</span>
    </label>
  </div>

  <div class="category-option">
    <input type="checkbox" id="cat-history" name="category" value="history" class="category-checkbox">
    <label for="cat-history" class="category-label">
      <span class="category-icon">ğŸ›ï¸</span>
      <span class="category-name">Tarih</span>
    </label>
  </div>

  <div class="category-option">
    <input type="checkbox" id="cat-nature" name="category" value="nature" class="category-checkbox">
    <label for="cat-nature" class="category-label">
      <span class="category-icon">ğŸŒ¿</span>
      <span class="category-name">DoÄŸa</span>
    </label>
  </div>

  <div class="category-option">
    <input type="checkbox" id="cat-shopping" name="category" value="shopping" class="category-checkbox">
    <label for="cat-shopping" class="category-label">
      <span class="category-icon">ğŸ›ï¸</span>
      <span class="category-name">Ã‡arÅŸÄ±</span>
    </label>
  </div>

  <div class="category-option">
    <input type="checkbox" id="cat-breakfast" name="category" value="breakfast" class="category-checkbox">
    <label for="cat-breakfast" class="category-label">
      <span class="category-icon">ğŸ¥</span>
      <span class="category-name">KahvaltÄ±</span>
    </label>
  </div>

  <div class="category-option">
    <input type="checkbox" id="cat-faqspecial" name="category" value="faqspecial" class="category-checkbox">
    <label for="cat-faqspecial" class="category-label">
      <span class="category-icon">â“</span>
      <span class="category-name">Ã–zel Soru Serileri</span>
    </label>
  </div>

  <div class="category-option">
    <input type="checkbox" id="cat-meyhane" name="category" value="meyhane" class="category-checkbox">
    <label for="cat-meyhane" class="category-label">
      <span class="category-icon">ğŸ¥‚</span>
      <span class="category-name">Meyhane</span>
    </label>
  </div>

  <div class="category-option">
    <input type="checkbox" id="cat-bar" name="category" value="bar" class="category-checkbox">
    <label for="cat-bar" class="category-label">
      <span class="category-icon">ğŸ¸</span>
      <span class="category-name">Bar</span>
    </label>
  </div>

  <div class="category-option">
    <input type="checkbox" id="cat-cafe" name="category" value="cafe" class="category-checkbox">
    <label for="cat-cafe" class="category-label">
      <span class="category-icon">â˜•</span>
      <span class="category-name">Cafe</span>
    </label>
  </div>

  <div class="category-option">
    <input type="checkbox" id="cat-diving" name="category" value="diving" class="category-checkbox">
    <label for="cat-diving" class="category-label">
      <span class="category-icon">ğŸ¤¿</span>
      <span class="category-name">DalÄ±ÅŸ</span>
    </label>
  </div>

  <div class="category-option">
    <input type="checkbox" id="cat-articles" name="category" value="articles" class="category-checkbox">
    <label for="cat-articles" class="category-label">
      <span class="category-icon">ğŸ“°</span>
      <span class="category-name">YazÄ±lar</span>
    </label>
  </div>

</div>

          <!-- FotoÄŸraflar -->
          <div class="form-section">
            <div class="section-card section-card--orange">
              <h3 class="section-title">
                <span class="section-icon">ğŸ“¸</span>
                FotoÄŸraflar 
              </h3>

              <div class="form-group">
                <label class="form-label">FotoÄŸraf SeÃ§</label>

<div class="file-upload">
  <div class="file-row">
    <input type="file"
      id="photoInput"
      name="photos"
      accept="image/*"
      multiple
      class="file-input"
    >
    <label for="photoInput" class="file-btn">FotoÄŸraf seÃ§</label>
  </div>

  <div class="file-feedback">
    <div id="photoFileNames" class="file-names">HenÃ¼z dosya seÃ§ilmedi</div>
    <div id="photoError" class="form-error"></div>
  </div>
</div>

<p class="form-hint">
  Max <b>5</b> foto â€¢ <b>2 MB</b>/foto â€¢ <b>16:9</b> yatay â€¢ YazÄ±/logo yok â€¢ Kadraj ortalÄ± (bazÄ± cihazlarda kÄ±rpÄ±labilir)
</p>

<details class="photo-guide">
  <summary>DetaylarÄ± gÃ¶ster (FotoÄŸraf rehberi)</summary>
  <ul>
    <li><b>Boyut:</b> 1600Ã—900 px (ideal) / 1200Ã—675 px (minimum)</li>
    <li><b>Oran:</b> 16:9 (yatay)</li>
    <li><b>Kadro:</b> Ana konu ortada veya biraz Ã¼stte</li>
    <li><b>Yasak:</b> YazÄ±, logo, filigran, kolaj, ekran gÃ¶rÃ¼ntÃ¼sÃ¼</li>
    <li><b>Kalite:</b> Net, gÃ¼ncel, gece Ã§ok karanlÄ±k olmayan</li>
    <li><b>Not:</b> Kapak alanÄ±nda â€œcoverâ€ mantÄ±ÄŸÄ±yla sÄ±ÄŸdÄ±rma olduÄŸundan Ã¼st/alt kÄ±rpÄ±labilir</li>
  </ul>
</details>


             </div>
            </div>
          </div>

          <!-- Ek Bilgiler -->
          <div class="form-section">
            <div class="section-card section-card--green">
              <h3 class="section-title">
                <span class="section-icon">â„¹ï¸</span>
                Ek Bilgiler
              </h3>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Ortalama Fiyat</label>
                  <input type="text" class="form-input" name="price" placeholder="Ã–rn: â‚ºâ‚º veya 200-500â‚º">
                </div>

                <div class="form-group">
                  <label class="form-label">Ortalama SÃ¼re</label>
                  <input type="text" class="form-input" name="duration" placeholder="Ã–rn: 2-3 saat">
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">EriÅŸim Bilgisi</label>
                <input type="text" class="form-input" name="access" placeholder="Ã–rn: AraÃ§la ulaÅŸÄ±labilir, Tekne ile gidilir">
              </div>

              <div class="form-group">
                <label class="form-label">Google Maps Arama Terimi</label>
                <input type="text" class="form-input" name="googleMapsQuery" placeholder="Ã–rn: KaputaÅŸ PlajÄ± KaÅŸ">
                <p class="form-hint">MekanÄ±nÄ±zÄ±n Google Maps'te nasÄ±l aranacaÄŸÄ±nÄ± yazÄ±n</p>
              </div>
            </div>
          </div>

          <!-- Ä°letiÅŸaim Bilgileri -->
          <div class="form-section">
            <div class="section-card section-card--indigo">
              <h3 class="section-title">
                <span class="section-icon">ğŸ“</span>
                Ä°letiÅŸim Bilgileri
              </h3>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Telefon<span class="required">*</span></label>
                  <input type="tel" class="form-input" name="phone" placeholder="0532 123 45 67" required>
                </div>

                <div class="form-group">
                  <label class="form-label">Instagram</label>
                  <input type="text" class="form-input" name="instagram" placeholder="@kullaniciadi">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Website</label>
                  <input type="url" class="form-input" name="website" placeholder="https://ornek.com">
                </div>

                <div class="form-group">
                  <label class="form-label">Rezervasyon Linki</label>
                  <input type="url" class="form-input" name="booking" placeholder="https://booking.com/...">
                </div>
              </div>
            </div>
          </div>


          <!-- Ã–zel Notlar -->
          <div class="form-section">
            <div class="section-card section-card--dark">
              <h3 class="section-title">
                <span class="section-icon">ğŸ“</span>
                Bize iletmek istediÄŸiniz Ã¶zel notlar
              </h3>

              <div class="form-group">
                <textarea
                  class="form-textarea"
                  name="extraNotes"
                  placeholder="MekanÄ±nÄ±zla ilgili Ã¶zellikle belirtmek istediÄŸiniz detaylar, talepleriniz veya ek notlar..."
                  style="min-height: 160px;"
                ></textarea>

                <p class="form-hint">
                  Bu alan isteÄŸe baÄŸlÄ±dÄ±r.
                </p>
              </div>
            </div>
          </div>

          <!-- Submit -->

<button type="button" class="submit-button" id="previewBtn" style="margin-top:12px; background: linear-gradient(135deg, var(--kas-cyan), var(--kas-indigo)); padding: 1.05rem 1.25rem;">
  <span style="display:block; font-size:1.15rem; font-weight:900; letter-spacing:-0.01em;">ğŸ‘€ Ã–nizleme</span>
 </button>



          <div class="submit-section">
            <button type="submit" class="submit-button">
              ğŸš€ BaÅŸvuruyu GÃ¶nder
            </button>



                        <p class="form-hint" style="text-align: center; margin-top: 0.25rem;">
              BaÅŸvurunuzu gÃ¶nderdikten sonra en geÃ§ 5 iÅŸ gÃ¼nÃ¼ iÃ§inde size dÃ¶nÃ¼ÅŸ yapacaÄŸÄ±z.
            </p>
          </div>
        </form>
      </div>
    </div>
  </div>
</main>

 <script>
  const form = document.getElementById('venueForm');
  const successMessage = document.getElementById('successMessage');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const submitBtn = form.querySelector('button[type="submit"]');
    submitBtn.disabled = true;
    submitBtn.innerText = 'GÃ¶nderiliyor...';

    const formData = new FormData(form);

    try {
      const res = await fetch('/api/venue-submit', {
        method: 'POST',
        body: formData
      });

      // API bazen JSON, bazen text dÃ¶ndÃ¼rebilir; Ã¶nce gÃ¼venli parse edelim
      const raw = await res.text().catch(() => '');
      let payload = null;
      try { payload = JSON.parse(raw); } catch {}

      if (!res.ok) {
        throw new Error(payload?.message || raw || `HTTP ${res.status}`);
      }

      if (payload && payload.success === false) {
        throw new Error(payload.message || 'Mail gÃ¶nderilemedi');
      }
successMessage.classList.add('show');
      form.reset();
      window.scrollTo({ top: 0, behavior: 'smooth' });
      

    } catch (err) {
      alert(
        'BaÅŸvuru gÃ¶nderilemedi.\n\n' +
        (err.message || 'Sunucu hatasÄ±')
      );
    } finally {
      submitBtn.disabled = false;
      submitBtn.innerText = 'ğŸš€ BaÅŸvuruyu GÃ¶nder';
    }
  });
</script>

<script>
  (function () {
    const previewBtn = document.getElementById('previewBtn');
    const formEl = document.getElementById('venueForm') || document.querySelector('form');
    if (!formEl) return;

    function formToObject(formEl) {
      const fd = new FormData(formEl);
      const obj = {};
      for (const [k, v] of fd.entries()) {
        if (k === "category") {
          obj.category ??= [];
          obj.category.push(v);
        } else if (k === "photos") {
          // FotoÄŸraflar preview'da gÃ¶sterilmez (Ã¶rnek gÃ¶rseller gÃ¶sterilir).
        } else {
          obj[k] = (v ?? "").toString().trim();
        }
      }
      return obj;
    }

    function buildPreviewPlace(data) {
      return {
        title: data.title || "Mekan AdÄ±",
        location: data.location || "KaÅŸ",
        distance: data.distance || "",
        description: data.description || "",
        longText: data.longText || "",
        price: data.price || "",
        duration: data.duration || "",
        access: data.access || "",
        instagram: data.instagram || "",
        website: data.website || "",
        booking: data.booking || "",
        phone: data.phone || "",
        categories: data.category || [],
        googleMapsQuery: data.googleMapsQuery || ""
      };
    }

    function persistDraft() {
      const data = formToObject(formEl);
      const previewPlace = buildPreviewPlace(data);
      try {
        localStorage.setItem("kasguide_preview_place", JSON.stringify(previewPlace));
      } catch (e) {}
    }

    // Live update: whenever user types / changes fields, keep draft fresh
    const liveEvents = ["input", "change"];
    liveEvents.forEach(evt => {
      formEl.addEventListener(evt, (e) => {
        // avoid spamming for file input; we don't store files anyway
        if (e?.target?.type === "file") return;
        persistDraft();
      });
    });

    previewBtn?.addEventListener('click', () => {
      persistDraft();
      window.open("./example-place/example-place.html", "_blank");
    });

    // initial seed (helps if user opens preview early)
    persistDraft();
  })();
</script>

<script>
  (function () {
    const input = document.getElementById("photoInput");
    const namesEl = document.getElementById("photoFileNames");
    const errEl = document.getElementById("photoError");
    const formEl = document.getElementById("venueForm");

    if (!input || !namesEl) return;

    const MAX_FILES = 5;
    const MAX_MB_PER_FILE = 2;
    const MAX_BYTES_PER_FILE = MAX_MB_PER_FILE * 1024 * 1024;

    function formatBytes(bytes) {
      if (!Number.isFinite(bytes)) return "";
      const mb = bytes / (1024 * 1024);
      if (mb >= 1) return `${mb.toFixed(2)} MB`;
      const kb = bytes / 1024;
      return `${kb.toFixed(0)} KB`;
    }

    function updateUI() {
      const files = Array.from(input.files || []);
      if (errEl) errEl.textContent = "";

      if (files.length === 0) {
        namesEl.textContent = "HenÃ¼z dosya seÃ§ilmedi";
        return;
      }

      // validations
      const errors = [];
      if (files.length > MAX_FILES) {
        errors.push(`En fazla ${MAX_FILES} fotoÄŸraf seÃ§ebilirsiniz.`);
      }

      const tooBig = files.filter(f => (f.size || 0) > MAX_BYTES_PER_FILE);
      if (tooBig.length) {
        const list = tooBig.map(f => f.name).slice(0, 3).join(", ");
        errors.push(`2 MB sÄ±nÄ±rÄ±nÄ± aÅŸan fotoÄŸraf(lar) var: ${list}${tooBig.length > 3 ? "..." : ""}`);
      }

      // totals + names
      const totalBytes = files.reduce((sum, f) => sum + (f.size || 0), 0);
      const fileNames = files.map(f => f.name).join(" â€¢ ");

      namesEl.innerHTML = `<div class="file-summary">${files.length} fotoÄŸraf seÃ§ildi â€¢ Toplam: ${formatBytes(totalBytes)}</div>` +
        `<div class="file-list">${fileNames}</div>`;

      // if errors: show and optionally clear selection
      if (errors.length && errEl) {
        errEl.textContent = errors.join(" ");
        // Ä°stersen kural dÄ±ÅŸÄ± seÃ§imde input'u temizleyelim:
        // input.value = "";
        // namesEl.textContent = "HenÃ¼z dosya seÃ§ilmedi";
      }
    }

    input.addEventListener("change", updateUI);

    // form reset sonrasÄ± metni dÃ¼zelt
    formEl?.addEventListener("reset", () => {
      // reset bazen async olur; bir tick bekleyelim
      setTimeout(() => {
        namesEl.textContent = "HenÃ¼z dosya seÃ§ilmedi";
        if (errEl) errEl.textContent = "";
      }, 0);
    });
  })();
</script>



</body>
</html>